$wrap: #23bcbc;
$ribbon: #ccd;
$dim: 20vmin;

* {
  box-sizing: border-box;
}

html, body {
  width: 100%;
  height: 100vh;
  overflow: hidden;
  background: #6ba795;
}
#string {
  width: .1rem;
  border-right: .1rem solid #777;
  height: 45vmin;
  transform:  translate3d(($dim/2),0,0);
}

#container {
  position: absolute;
  left: 50%;
  transform: translate3d(-50%, 0, 0);
  width: $dim;
  //padding-top: 45vmin;
  perspective: 2000px;
  transform-style: preserve-3d;
  transform-origin: 50% 0%;
  transition: transform 1s ease-out;
}


#box {
  //perspective: 1000px;
  //transform: translateZ(($dim / -2)) rotateY(-75deg);
  transform-style: preserve-3d;
}
#lid {
  transform-style: preserve-3d;
  transform: translate3d(-1vmin, 0, 0);
  
  .face {
    width: ($dim + 2);
    height: ($dim/4);
    background: lighten($wrap,1);
    
    &.top {
      height: ($dim + 2);
    }
    &.front {
      transform: rotateY(0deg) translateZ(($dim / 2 + 1));
      box-shadow: 0px 3px 2px rgba(0,0,0,.1);
    }
    &.back {
      transform: rotateX(180deg) translateZ(($dim / 2 + 1));
      box-shadow: 0px -3px 2px rgba(0,0,0,.1);
    }
    &.left {
      transform: rotateY(-90deg) translateZ(($dim / 2 + 1));
      box-shadow: 0px 3px 2px rgba(0,0,0,.1);
    }
    &.right {
      transform: rotateY(90deg) translateZ(($dim / 2 + 1));
      box-shadow: 0px 3px 2px rgba(0,0,0,.1);
    }
    &.top {
      transform: rotateX(90deg) translateZ(($dim / 2 + 1));
    }
    &.bottom {
      transform: rotateX(-90deg) translateZ(($dim / 2 + 1));
    }
  }
}

.face {
  width: $dim;
  height: $dim;
  background: $wrap;
  position: absolute;
  display: inline-block;
  color: white;
  font-size: 2rem;
  opacity: 1;
  
  
  &.front {
    transform: rotateY(0deg) translateZ(($dim / 2));
  }
  &.back {
    transform: rotateX(180deg) translateZ(($dim / 2));
  }
  &.left {
    transform: rotateY(-90deg) translateZ(($dim / 2));
  }
  &.right {
    transform: rotateY(90deg) translateZ(($dim / 2));
  }
  &.top {
    transform: rotateX(90deg) translateZ(($dim / 2));
  }
  &.bottom {
    transform: rotateX(-90deg) translateZ(($dim / 2));
  }
  
  .ribbon {
    position: absolute;
    background: $ribbon;
    border-right: 1px solid rgba(255,255,255,.95);
    border-left: 1px solid rgba(255,255,255,.95);
    width: 20%;
    height: 100%;
    margin: 0 40%;
    
    &:nth-of-type(2) {
      width: 100%;
      height: 20%;
      margin: 40% 0;
    }
  }
}

#box {
  .face {
    //border: 1px solid rgba(0,0,0,.1);
  }
}


#container {
  animation: swing 1600ms infinite alternate ease-in-out;
}

@keyframes swing {
  0% {
    transform: rotateY(-30deg) rotateZ(40deg);
  }
  100% {
    transform: rotateY(30deg) rotateZ(-40deg);
  }
}